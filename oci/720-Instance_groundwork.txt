
//==========================================================================================
//
// ssh로 ubuntu 로그인
//
//==========================================================================================
//------------------------------------------------------------------------------------------
//
// 시스템 재부팅시 기록 설정
//
//------------------------------------------------------------------------------------------
  uptime 
  last reboot


//---------------------------------------------
//
// root 패스워드 설정
//
//---------------------------------------------

  -. 설정
    sudo passwd root
      --> tjdlfai_root

  -. 확인
    su

//------------------------------------------------------------------------------------------
//
// ubuntu 패스워드 설정
//
//------------------------------------------------------------------------------------------

  -. 설정
    sudo passwd ubuntu
      --> tjdlfai_user

  -. 확인
    su - aigame
    pwd


//---------------------------------------------
//
// user 생성( aigame : seoil ) 
//
//---------------------------------------------

1. 그룹아이디 생성

    -. 1002 : seoil 미사용 확인
      grep seoil /etc/group
      grep 1002 /etc/group
      
    -. 그룹아이디 생성( 1002 : seoil ) 
      sudo groupadd -g 1002 seoil

    -. 생성확인
      grep seoil /etc/group
      grep 1002 /etc/group

2. 유저 생성

    -. aigame 미사용 확인
      grep aigame /etc/passwd
      grep 1002 /etc/passwd
      
    
    -. 유저아이디 생성( aigame ) 
      sudo useradd -m -d /home/aigame -g seoil -u 1002 -s /bin/bash aigame

    -. 생성확인
      grep aigame /etc/passwd
      grep 1002 /etc/passwd

//------------------------------------------------------------------------------------------
//
// aigame 패스워드 설정
//
//------------------------------------------------------------------------------------------

  -. 설정
    sudo passwd aigame
      --> tjdlfai_user

  -. 확인
    su - aigame
    pwd

 
//------------------------------------------------------------------------------------------
//
// sudo 리스트에 등록
//
//------------------------------------------------------------------------------------------

  sudo vi -f /etc/sudoers
   
    --> root 밑에 aigame 추가
    # User privilege specification
    root    ALL=(ALL:ALL) ALL

    aigame  ALL=(ALL:ALL) ALL
    또는
    aigame  ALL=NOPASSWD: ALL



//------------------------------------------------------------------------------------------
//
// iptables 무력화
//
//------------------------------------------------------------------------------------------
-. 확인
  sudo iptables -L

-. 백업
  sudo iptables-save > ~/iptables-rules

-. 제거
  sudo iptables -P INPUT ACCEPT
  sudo iptables -P OUTPUT ACCEPT
  sudo iptables -P FORWARD ACCEPT
  sudo iptables -F

-. 제거 확인
  sudo iptables -L

  결과는 아래와 같다.
  	Chain INPUT (policy ACCEPT)
	target     prot opt source               destination         

	Chain FORWARD (policy ACCEPT)
	target     prot opt source               destination         

	Chain OUTPUT (policy ACCEPT)
	target     prot opt source               destination         

	Chain InstanceServices (0 references)
	target     prot opt source               destination 

-. 영구적용
  sudo  /usr/sbin/netfilter-persistent save
 



//------------------------------------------------------------------------------------------
//
// 퍼블릭키 추가
//
//------------------------------------------------------------------------------------------

  -. 퍼블릭키 복사
    sudo cp -R ~/.ssh /home/aigame
  
  -. 소유권 변경
    sudo chown -fvR aigame:seoil /home/aigame/.ssh



//==========================================================================================
//
//  Ubuntu계정 로그아웃 후 aigame로 로그인하여 아래의 작업을 완료한다
//
//==========================================================================================


    

//------------------------------------------------------------------------------------------
//
// ubuntu 계정 불용 처리
//
//------------------------------------------------------------------------------------------
  sudo vi /etc/passwd
    --> ubuntu유저 맨 앞줄에 *로 주석처리

    
